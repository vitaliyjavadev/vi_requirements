# project_configuration

Гибкость разработанного приложения достигается не только за счет соблюдения
принципов SOLID, но и за счет возможности
конфигурирования без изменения кода. Этот раздел включает правила, относящиеся к
файлам конфигураций:

1. Положение конфигурационных файлов:
    1. **Java конфигурации**. Эти файлы должны располагаться в пакете
       `{artifact_id}j.<project>.configuration`;
    2. **Иные конфигурации**. Не Java конфигурации должны располагаться в
       `src/main/resources`.
2. Аннотация конфигурационных файлов. Java конфигурации должны быть помечены
   аннотацией `@Configuration`;
3. Декомпозиция конфигураций. Настройка различных бинов должна быть
   декомпозирована на файлы. Речь о соблюдении
   принципа SRP. Например, DataSourceConfiguration, HibernateConfiguration,
   LiquibaseConfiguration;
4. Название конфигураций. Без сокращений. Не HbmConfig, а HibernateConfig;
5. Отсутствие хардкодинга. Приложение должно быть конфигурируемое. Все, что
   можно захардкодить, кроме констант, выносим
   в настройки и берем из настроек.

   Неправильный код:
   ```java
   this.rowList = IntStream.rangeClosed(1, 10).boxed().toList();
   ```

   Правильный код:
   ```java
   public TicketService(@Value("hall.row.count") int rowCount) {
        if (rowCount <= 0) {
            throw new IllegalArgumentException(String.format("Invalid rowCount: %d. Count must be more than 0", rowCount));
        }
        this.rowList = IntStream.rangeClosed(1, rowCount).boxed().toList();
   }
   ```

6. Принцип DRY и конфигурации. Согласно принципу DRY должен быть единственный
   источник правды. Упрощенно, у вас должен
   быть один конфигурационный файл, например, для подключения к БД. Если в
   проекте их несколько, то непонятно какой из них корректный.
